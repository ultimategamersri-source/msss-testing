<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ABC School Dashboard - File Manager</title>
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>

<!-- ===== PASSWORD OVERLAY ===== -->
<div id="passwordOverlay" class="password-overlay">
  <div class="password-backdrop"></div>
  <div class="password-container">
    <div class="password-box">
      <div class="password-icon">ğŸ”’</div>
      <h2>Dashboard Access</h2>
      <p class="password-subtitle">Enter your password to continue</p>
      <input type="password" id="dashboardPassword" placeholder="Enter Password" autocomplete="off">
      <div class="password-actions">
        <button id="enterBtn" class="btn-primary">Enter</button>
        <button id="demoBtn" class="btn-secondary">ğŸ‘ï¸ View Password</button>
      </div>
      <p id="passwordError" class="error-message"></p>
    </div>
  </div>
</div>

<!-- ===== DASHBOARD CONTAINER ===== -->
<div id="dashboardContainer" class="dashboard-container blurred">
  
  <!-- ===== LEFT SIDEBAR - FILE TITLES VIEWER ===== -->
  <aside id="titlesViewer" class="sidebar">
    <div class="sidebar-header">
      <div class="header-top">
        <h1 class="project-title">ğŸ“ Files</h1>
        <button id="searchToggleBtn" class="search-toggle-btn" title="Search files">ğŸ”</button>
      </div>
      <div id="searchContainer" class="search-container hidden">
        <input type="text" id="searchFiles" placeholder="Search files..." class="search-input">
      </div>
    </div>

    <div id="fileList" class="file-list">
      <!-- File items will be dynamically added here -->
    </div>

    <div class="add-file-section">
      <button id="addFileBtn" class="add-file-btn" title="Add new file">
        <span class="plus-icon">+</span>
        <span class="add-text">Add File</span>
      </button>
    </div>
  </aside>

  <!-- ===== RIGHT MAIN CONTENT VIEW ===== -->
  <main id="mainContent" class="main-content">
    <div class="top-banner">
      <h1 class="ai-assistant-title">âœ¨ ABC AI Assistant Manager âœ¨</h1>
    </div>
    <div class="main-header">
      <h2>File Manager</h2>
      <button id="viewPasswordBtn" class="change-password-btn" title="Change Password">ğŸ”‘ Change Password</button>
    </div>
    <div id="contentArea" class="content-area">
      <!-- File content blocks will be dynamically added here -->
      <div class="welcome-message" id="welcomeMessage">
        <div class="welcome-icon">ğŸ“„</div>
        <h2>Welcome to File Manager</h2>
        <p>Select a file from the sidebar to view or edit its contents</p>
      </div>
    </div>
  </main>

</div>

<!-- ===== RENAME MODAL ===== -->
<div id="renameModal" class="modal hidden">
  <div class="modal-content">
    <h3>Rename File</h3>
    <input type="text" id="renameInput" placeholder="Enter new file name">
    <div class="modal-actions">
      <button id="renameConfirmBtn" class="btn-primary">Rename</button>
      <button id="renameCancelBtn" class="btn-secondary">Cancel</button>
    </div>
  </div>
</div>

<!-- ===== CREATE FILE MODAL ===== -->
<div id="createFileModal" class="modal hidden">
  <div class="modal-content">
    <h3>Create New File</h3>
    <input type="text" id="createFileNameInput" placeholder="Enter file name (e.g., 'filename' or 'folder/filename')">
    <p style="font-size: 12px; color: #666; margin-top: -10px; margin-bottom: 10px;">Tip: Use 'folder/filename' to create in a folder</p>
    <div class="modal-actions">
      <button id="createFileConfirmBtn" class="btn-primary">Create</button>
      <button id="createFileCancelBtn" class="btn-secondary">Cancel</button>
    </div>
  </div>
</div>

<!-- ===== CHANGE PASSWORD MODAL ===== -->
<div id="changePasswordModal" class="modal hidden">
  <div class="modal-content">
    <h3>Change Password</h3>
    <input type="password" id="oldPasswordInput" placeholder="Current Password" autocomplete="off">
    <input type="password" id="newPasswordInput" placeholder="New Password" autocomplete="off">
    <input type="password" id="confirmPasswordInput" placeholder="Confirm New Password" autocomplete="off">
    <div class="modal-actions">
      <button id="changePasswordConfirmBtn" class="btn-primary">Change Password</button>
      <button id="changePasswordCancelBtn" class="btn-secondary">Cancel</button>
    </div>
    <p id="changePasswordError" class="error-message"></p>
  </div>
</div>

<!-- ===== VIEW PASSWORD MODAL ===== -->
<div id="viewPasswordModal" class="modal hidden">
  <div class="modal-content">
    <h3>View Password</h3>
    <div style="margin-bottom: 20px;">
      <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">Current Dashboard Password:</label>
      <div style="position: relative;">
        <input type="password" id="passwordDisplay" readonly style="width: 100%; padding: 14px 50px 14px 18px; border-radius: 12px; border: 2px solid #e0e0e0; font-size: 16px; font-family: monospace; background: #f8f9fa;">
        <button id="togglePasswordVisibility" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 20px; padding: 5px;">ğŸ‘ï¸</button>
      </div>
    </div>
    <div class="modal-actions">
      <button id="viewPasswordCloseBtn" class="btn-primary">Close</button>
      <button id="viewPasswordChangeBtn" class="btn-secondary">Change Password</button>
    </div>
    <p id="viewPasswordError" class="error-message"></p>
  </div>
</div>

<script src="dashboard.js"></script>
</body>
</html>
